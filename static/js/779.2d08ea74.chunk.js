"use strict";(self.webpackChunkgameshop=self.webpackChunkgameshop||[]).push([[779],{2199:(e,t,s)=>{s.d(t,{R:()=>l});const l=e=>Boolean(Number(e))&&Number(e)>0?e.length<14?{status:!1,text:"Phone Number Must Be at Least 14 Characters"}:{status:!0}:{status:!1,text:"Please Enter a Correct Phone Number"}},2600:(e,t,s)=>{s.d(t,{A:()=>o});var l=s(5043),a=s(660),i=s(6020),r=s(6848),n=s(579);const o=function(e){let{navigateTitle:t,isValid:s,onClickBtn:o=()=>{}}=e;const{currencies:u,delivery_fee:c}=(0,l.useContext)(a.Q)||{},{inCartItems:m}=(0,l.useContext)(i.D)||{},[d,x]=(0,l.useState)(0),p=[{name:"Subtotal",quantity:d},{name:"Shipping Fee",quantity:c},{name:"Total",quantity:d+c}];return(0,l.useEffect)(()=>{(()=>{if(m&&m.length){let e=0;for(let t of m)e+=Number(t.number)*Number(t.product.price);x(e)}})()},[m]),(0,n.jsxs)("div",{className:"w-full",children:[(0,n.jsx)("div",{className:"text-2xl",children:(0,n.jsx)(r.A,{text1:"CART",text2:"TOTALS"})}),(0,n.jsx)("div",{className:"flex flex-col gap-2 mt-2 text-sm",children:p.map((e,t)=>(0,n.jsxs)("div",{children:[(0,n.jsxs)("div",{className:"flex justify-between text-18",children:[(0,n.jsx)("p",{className:`${"Total"===e.name&&"font-bold"}`,children:e.name}),(0,n.jsx)("p",{className:`${"Total"===e.name&&"font-bold"}`,children:m&&m.length?`${u.uk.sign} ${e.quantity}`:0})]}),t!==p.length-1&&(0,n.jsx)("hr",{})]},t))}),m&&m.length?(0,n.jsx)("div",{className:"w-full text-end",children:(0,n.jsx)("button",{onClick:o,className:"py-3 px-8 my-8 text-sm text-white cursor-pointer mainPurpleBg text-16 "+(s?"":"opacity-[0.5]"),"data-testid":"proceedBtn",disabled:!s,children:t})}):""]})}},5779:(e,t,s)=>{s.r(t),s.d(t,{default:()=>N});var l=s(5043),a=s(3721),i=s(8891),r=s(2199),n=s(1381),o=s(6020),u=s(4268),c=s(8414),m=s(7866),d=s(6848),x=s(579);const p=function(e){let{formState:t,setFormState:s}=e;return(0,x.jsx)(x.Fragment,{children:(0,x.jsxs)("div",{className:"flex flex-col gap-4 w-ful sm:max-w-[400px]",children:[(0,x.jsx)("div",{className:"text-xl sm:text-2xl my-3",children:(0,x.jsx)(d.A,{text1:"DELIVERY",text2:"INFORMATION"})}),(0,x.jsx)("div",{className:"max-w-3xl mx-auto",children:(0,x.jsx)("form",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[{id:"firstName",isFull:!1,label:"First Name"},{id:"lastName",isFull:!1,label:"Last Name"},{id:"email",isFull:!0,label:"Email Address",type:"email"},{id:"street",isFull:!0,label:"Street"},{id:"city",isFull:!1,label:"City"},{id:"state",isFull:!1,label:"State"},{id:"zip",isFull:!1,label:"Zipcode"},{id:"country",isFull:!1,label:"Country"},{id:"phone",isFull:!0,label:"Phone",type:"number"}].map(e=>(0,x.jsxs)("div",{className:"flex flex-col "+(e.isFull?"md:col-span-2":""),children:[(0,x.jsxs)("label",{htmlFor:e.id,className:"text-sm font-medium",children:[" ",e.label," "]}),(0,x.jsx)("input",{onChange:l=>(e=>{const l={...t};l[e.key]=e.value,s({...l})})({key:e.id,value:l.target.value}),type:e.type?e.type:"text",id:e.id,className:"mt-1 p-2 border rounded",defaultValue:t[e.id]})]},e.id))})})]})})};var f=s(2600),h=s(2115);const N=function(){const e=(0,a.Zp)(),{profile:t}=(0,l.useContext)(c.t),s=(0,l.useContext)(n.P),{inCartItems:d,updateInCart:N}=(0,l.useContext)(o.D),{ordersList:b,setLocalOrders:y,updateOrdersList:j}=(0,l.useContext)(u.V),[g,v]=(0,l.useState)({firstName:"",lastName:"",email:"",street:"",city:"",state:"",zip:"",country:"",phone:""}),C=()=>{if(!(()=>{for(let e in g)if(!g[e])return"firstName"==e||"lastName"==e?h.oR.error("Name is empty."):h.oR.error(`${e} is empty.`),!1;return!0})())return!1;{const e=(0,i.F)(g.email),t=(0,r.R)(g.phone);if(!e.status)return h.oR.error(e.text),!1;if(!t.status)return h.oR.error(t.text),!1}return!0};return(0,l.useEffect)(()=>{y(),(()=>{const e=t,s={...g};for(let t in s)e[t]&&(s[t]=e[t]);v({...s})})()},[]),(0,x.jsx)(m.A,{children:(0,x.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4 pt-5 sm:pt-5 sm:pt-14 min-h-[80vh] mainBorder-t",children:[(0,x.jsx)(p,{formState:g,setFormState:v}),(0,x.jsx)("div",{className:"w-[300px] mt-10 md:mt-0 ",children:(0,x.jsx)(f.A,{navigateTitle:"PROCEED TO PAYMENT",onClickBtn:()=>{if(C()){const t={personalData:g,orders:[...d]};let l=[];b&&(l=[...b],l.push(t)),j([...l]),N([]),e(s.ordersList.url),h.oR.success("Payment was successfull.")}},isValid:!0})})]})})}},8891:(e,t,s)=>{s.d(t,{F:()=>l});const l=e=>e?e.includes("@")&&(e.includes(".com")||e.includes(".org")||e.includes(".net"))?{status:!0}:{status:!1,text:"Enter a Correct Email"}:{status:!1,text:"Email is empty"}}}]);
//# sourceMappingURL=779.2d08ea74.chunk.js.map