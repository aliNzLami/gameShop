"use strict";(self.webpackChunkgameshop=self.webpackChunkgameshop||[]).push([[352],{2600:(e,t,n)=>{n.d(t,{A:()=>r});var l=n(5043),s=n(660),o=n(6020),i=n(6848),a=n(579);const r=function(e){let{navigateTitle:t,isValid:n,onClickBtn:r=()=>{}}=e;const{currencies:d,delivery_fee:c}=(0,l.useContext)(s.Q)||{},{inCartItems:m}=(0,l.useContext)(o.D)||{},[u,x]=(0,l.useState)(0),p=[{name:"Subtotal",quantity:u},{name:"Shipping Fee",quantity:c},{name:"Total",quantity:u+c}];return(0,l.useEffect)(()=>{(()=>{if(m&&m.length){let e=0;for(let t of m)e+=Number(t.number)*Number(t.product.price);x(e)}})()},[m]),(0,a.jsxs)("div",{className:"w-full",children:[(0,a.jsx)("div",{className:"text-2xl",children:(0,a.jsx)(i.A,{text1:"CART",text2:"TOTALS"})}),(0,a.jsx)("div",{className:"flex flex-col gap-2 mt-2 text-sm",children:p.map((e,t)=>{var n,l;return(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex justify-between text-18",children:[(0,a.jsx)("p",{className:`${"Total"===e.name&&"font-bold"}`,children:null!==(n=null===e||void 0===e?void 0:e.name)&&void 0!==n?n:""}),(0,a.jsx)("p",{className:`${"Total"===e.name&&"font-bold"}`,children:m&&m.length?`${d.uk.sign} ${null!==(l=null===e||void 0===e?void 0:e.quantity)&&void 0!==l?l:""}`:0})]}),t!==p.length-1&&(0,a.jsx)("hr",{})]},t)})}),m&&m.length?(0,a.jsx)("div",{className:"w-full text-end",children:(0,a.jsx)("button",{onClick:r,className:"py-3 px-8 my-8 text-sm text-white cursor-pointer mainPurpleBg text-16 "+(n?"":"opacity-[0.5]"),"data-testid":"proceedBtn",disabled:!n,children:t})}):""]})}},3078:(e,t,n)=>{n.d(t,{C:()=>l});const l=(e,t)=>Boolean(Number(e))&&Number(e)>0?Number(e)<=t?{status:!0}:{status:!1,text:`There are only ${t} items available.`}:{status:!1,text:"Please Enter a Correct Number"}},6579:(e,t,n)=>{n.r(t),n.d(t,{default:()=>h});var l=n(5043),s=n(3721),o=n(6020),i=n(9025),a=n(8414),r=n(7866),d=n(3078),c=n(660);const m=n.p+"static/media/trash.659ce55dcc7cfd6a44cb.png";var u=n(579);const x=e=>{let{isOpen:t,onClose:n,children:s}=e;const[o,i]=(0,l.useState)(t),[a,r]=(0,l.useState)(!1);return(0,l.useEffect)(()=>{if(!t){r(!1);const e=setTimeout(()=>i(!1),300);return()=>clearTimeout(e)}i(!0),setTimeout(()=>r(!0),10)},[t]),o?(0,u.jsxs)("div",{className:"modal-overlay",onClick:n,children:[(0,u.jsxs)("div",{className:"modal-content "+(a?"show":"hide"),onClick:e=>e.stopPropagation(),children:[(0,u.jsx)("button",{className:"close-button",onClick:n,"aria-label":"Close modal",children:"\xd7"}),(0,u.jsx)("div",{children:s})]}),(0,u.jsx)("style",{jsx:!0,children:`\n        .modal-overlay {\n          position: fixed;\n          top: 0;\n          left: 0;\n          width: 100%;\n          height: 100%;\n          background-color: rgba(0, 0, 0, 0.3);\n          display: flex;\n          justify-content: center;\n          align-items: center;\n          z-index: 1000;\n          opacity: ${a?1:0};\n          transition: opacity 300ms ease;\n        }\n\n        .modal-content {\n          background: #fff;\n          padding: 20px;\n          border-radius: 10px;\n          max-width: 500px;\n          width: 90%;\n          box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);\n          transform: scale(0.95);\n          opacity: 0;\n          transition: all 300ms ease;\n        }\n\n        .modal-content.show {\n          transform: scale(1);\n          opacity: 1;\n        }\n\n        .modal-content.hide {\n          transform: scale(0.95);\n          opacity: 0;\n        }\n\n        .close-button {\n          background: transparent;\n          border: none;\n          font-size: 1.5rem;\n          cursor: pointer;\n          color: #333;\n          width: 100%;\n          text-align: end;\n        }\n\n        /* Optional: add hover effect to close button */\n        .close-button:hover {\n          color: #000;\n        }\n      `})]}):null};var p=n(2115);const v=function(e){var t,n,a,r,v,f,h,j,b,g,N,C,y,_,w,I,T;let{item:k,index:B,setIsValid:$}=e;const E=(0,l.useContext)(i.P)||{},{currencies:P}=(0,l.useContext)(c.Q)||{},{inCartItems:S,updateInCart:O}=(0,l.useContext)(o.D)||{},[A,D]=(0,l.useState)(!1),F=e=>{const t=(0,d.C)(e,k.product.availabe);t.status?R(Number(e)):p.oR.error(t.text),$(t.status)},R=e=>{if(S.length){const t=[...S];t[B].number=e,O(t)}};return(0,l.useEffect)(()=>{F(k.number)},[]),(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)(x,{isOpen:A,onClose:()=>D(!1),children:[(0,u.jsxs)("p",{className:"mt-5 text-center",children:[(0,u.jsx)("span",{children:"Do you want to delete "}),(0,u.jsx)("span",{className:"font-bold",children:`${null!==(t=null===k||void 0===k||null===(n=k.product)||void 0===n?void 0:n.name)&&void 0!==t?t:""} (${null!==(a=null===k||void 0===k||null===(r=k.platform)||void 0===r?void 0:r.name)&&void 0!==a?a:""}) ?`})]}),(0,u.jsx)("div",{className:"flex justify-center mt-10",children:(0,u.jsx)("button",{onClick:()=>{D(!1);const e=[...S];e.splice(B,1),O(e),p.oR.info(`${k.product.name} (${k.platform.name}) has been removed.`)},className:"mainPurpleBg text-white px-4 py-2 rounded cursor-pointer",children:"DELETE"})})]}),(0,u.jsxs)("div",{className:"mt-5 px-4 py-4 mainBorder text-gray-700 grid grid-cols-[4fr_0.5fr_0.5fr] sm:grid-cols-[4fr_2fr_0.5fr] items-center gap-4 cartItem_mobile CartItemForTest shadow-lg",children:[(0,u.jsxs)("div",{className:"flex items-start gap-6 cartItem_imgTitle_mobile",children:[(0,u.jsx)("div",{className:"cartItem_imgHolder_mobile",children:(0,u.jsx)(s.N_,{className:"imgRatio",to:E.product.url.replace(":productId",null!==(v=null===k||void 0===k||null===(f=k.product)||void 0===f?void 0:f._id)&&void 0!==v?v:""),children:(null===k||void 0===k||null===(h=k.product)||void 0===h?void 0:h.pic)&&(0,u.jsx)("img",{className:"sm:w-20",src:k.product.pic})})}),(0,u.jsxs)("div",{className:"cartItem_infoHolder_mobile",children:[(0,u.jsx)(s.N_,{to:E.product.url.replace(":productId",null!==(j=null===k||void 0===k||null===(b=k.product)||void 0===b?void 0:b._id)&&void 0!==j?j:""),children:(0,u.jsx)("p",{className:"text-18 sm:text-lg font-medium",children:null!==(g=null===k||void 0===k||null===(N=k.product)||void 0===N?void 0:N.name)&&void 0!==g?g:""})}),(0,u.jsxs)("div",{className:"cartItem_infoBoxHolder_mobile flex items-center gap-5 mt-4",children:[(0,u.jsx)("p",{className:"font-bold cartItem_price_mobile text-18",children:`${P.uk.sign} ${null!==(C=null===k||void 0===k||null===(y=k.product)||void 0===y?void 0:y.price)&&void 0!==C?C:""}`}),(0,u.jsxs)("p",{className:"px-2 sm:px-3 sm:py-2 mainBorder bg-slate-50 flex cartItem_platformBox_mobile text-16",children:[(0,u.jsx)("span",{children:null!==(_=null===k||void 0===k||null===(w=k.platform)||void 0===w?void 0:w.name)&&void 0!==_?_:""}),(null===k||void 0===k||null===(I=k.platform)||void 0===I?void 0:I.icon)&&(0,u.jsx)("img",{className:"platformCard ms-3",src:k.platform.icon})]})]})]})]}),(0,u.jsx)("input",{onChange:e=>F(e.target.value),className:"mainBorder cartItem_input_mobile md:max-w-20 px-1 sm:px-2 py-1",type:"number",defaultValue:null!==(T=null===k||void 0===k?void 0:k.number)&&void 0!==T?T:""}),(0,u.jsx)("img",{onClick:()=>D(!0),className:"cartItem_removeBtn_mobile w-4 mr-4 sm:w-5 cursor-pointer",src:m})]})]})};var f=n(2600);const h=function(e){let{productsForTest:t=null}=e;const n=(0,s.Zp)(),{inCartItems:d}=(0,l.useContext)(o.D)||{},{profile:c}=(0,l.useContext)(a.t)||{},m=(0,l.useContext)(i.P)||{},[x,h]=(0,l.useState)(!1),j=t||d;return(0,u.jsx)(u.Fragment,{children:(0,u.jsx)(r.A,{children:(0,u.jsxs)("div",{className:"cartItemsHolder flex flex-col justify-between",children:[j&&j.length?j.map((e,t)=>(0,u.jsx)("div",{children:(0,u.jsx)(v,{item:e,index:t,setIsValid:h})},t)):(0,u.jsx)("div",{className:"flex justify-center font-medium noItemCart",children:"Your Cart Is Empty"}),(0,u.jsx)("div",{className:"flex justify-end mt-20 mb-30",children:(0,u.jsx)("div",{className:"w-full sm:w-[300px]",children:(0,u.jsx)(f.A,{navigateTitle:"PROCEED TO CHECKOUT",onClickBtn:()=>{c?n(m.orders.url):(p.oR.info("First, Login to Your Profile"),m&&n(m.login.url))},isValid:x})})})]})})})}}}]);
//# sourceMappingURL=352.754152b8.chunk.js.map