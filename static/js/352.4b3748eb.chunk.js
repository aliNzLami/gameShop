"use strict";(self.webpackChunkgameshop=self.webpackChunkgameshop||[]).push([[352],{2600:(e,t,n)=>{n.d(t,{A:()=>o});var s=n(5043),a=n(660),r=n(6020),l=n(6848),i=n(579);const o=function(e){let{navigateTitle:t,isValid:n,onClickBtn:o=()=>{}}=e;const{currencies:c,delivery_fee:m}=(0,s.useContext)(a.Q)||{},{inCartItems:d}=(0,s.useContext)(r.D)||{},[u,x]=(0,s.useState)(0),p=[{name:"Subtotal",quantity:u},{name:"Shipping Fee",quantity:m},{name:"Total",quantity:u+m}];return(0,s.useEffect)(()=>{(()=>{if(d&&d.length){let e=0;for(let t of d)e+=Number(t.number)*Number(t.product.price);x(e)}})()},[d]),(0,i.jsxs)("div",{className:"w-full",children:[(0,i.jsx)("div",{className:"text-2xl",children:(0,i.jsx)(l.A,{text1:"CART",text2:"TOTALS"})}),(0,i.jsx)("div",{className:"flex flex-col gap-2 mt-2 text-sm",children:p.map((e,t)=>(0,i.jsxs)("div",{children:[(0,i.jsxs)("div",{className:"flex justify-between text-18",children:[(0,i.jsx)("p",{className:`${"Total"===e.name&&"font-bold"}`,children:e.name}),(0,i.jsx)("p",{className:`${"Total"===e.name&&"font-bold"}`,children:d&&d.length?`${c.uk.sign} ${e.quantity}`:0})]}),t!==p.length-1&&(0,i.jsx)("hr",{})]},t))}),d&&d.length?(0,i.jsx)("div",{className:"w-full text-end",children:(0,i.jsx)("button",{onClick:o,className:"py-3 px-8 my-8 text-sm text-white cursor-pointer mainPurpleBg text-16 "+(n?"":"opacity-[0.5]"),"data-testid":"proceedBtn",disabled:!n,children:t})}):""]})}},3078:(e,t,n)=>{n.d(t,{C:()=>s});const s=(e,t)=>Boolean(Number(e))&&Number(e)>0?Number(e)<=t?{status:!0}:{status:!1,text:`There are only ${t} items available.`}:{status:!1,text:"Please Enter a Correct Number"}},6579:(e,t,n)=>{n.r(t),n.d(t,{default:()=>j});var s=n(5043),a=n(3721),r=n(6020),l=n(9025),i=n(8414),o=n(7866),c=n(3078),m=n(660);const d=n.p+"static/media/trash.659ce55dcc7cfd6a44cb.png";var u=n(579);const x=e=>{let{isOpen:t,onClose:n,children:a}=e;const[r,l]=(0,s.useState)(t),[i,o]=(0,s.useState)(!1);return(0,s.useEffect)(()=>{if(!t){o(!1);const e=setTimeout(()=>l(!1),300);return()=>clearTimeout(e)}l(!0),setTimeout(()=>o(!0),10)},[t]),r?(0,u.jsxs)("div",{className:"modal-overlay",onClick:n,children:[(0,u.jsxs)("div",{className:"modal-content "+(i?"show":"hide"),onClick:e=>e.stopPropagation(),children:[(0,u.jsx)("button",{className:"close-button",onClick:n,"aria-label":"Close modal",children:"\xd7"}),(0,u.jsx)("div",{children:a})]}),(0,u.jsx)("style",{jsx:!0,children:`\n        .modal-overlay {\n          position: fixed;\n          top: 0;\n          left: 0;\n          width: 100%;\n          height: 100%;\n          background-color: rgba(0, 0, 0, 0.3);\n          display: flex;\n          justify-content: center;\n          align-items: center;\n          z-index: 1000;\n          opacity: ${i?1:0};\n          transition: opacity 300ms ease;\n        }\n\n        .modal-content {\n          background: #fff;\n          padding: 20px;\n          border-radius: 10px;\n          max-width: 500px;\n          width: 90%;\n          box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);\n          transform: scale(0.95);\n          opacity: 0;\n          transition: all 300ms ease;\n        }\n\n        .modal-content.show {\n          transform: scale(1);\n          opacity: 1;\n        }\n\n        .modal-content.hide {\n          transform: scale(0.95);\n          opacity: 0;\n        }\n\n        .close-button {\n          background: transparent;\n          border: none;\n          font-size: 1.5rem;\n          cursor: pointer;\n          color: #333;\n          width: 100%;\n          text-align: end;\n        }\n\n        /* Optional: add hover effect to close button */\n        .close-button:hover {\n          color: #000;\n        }\n      `})]}):null};var p=n(2115);const f=function(e){let{item:t,index:n,setIsValid:i}=e;const o=(0,s.useContext)(l.P)||{},{currencies:f}=(0,s.useContext)(m.Q)||{},{inCartItems:h,updateInCart:j}=(0,s.useContext)(r.D)||{},[b,g]=(0,s.useState)(!1),N=e=>{const n=(0,c.C)(e,t.product.availabe);n.status?v(Number(e)):p.oR.error(n.text),i(n.status)},v=e=>{const t=[...h];t[n].number=e,j(t)};return(0,s.useEffect)(()=>{N(t.number)},[]),(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)(x,{isOpen:b,onClose:()=>g(!1),children:[(0,u.jsxs)("p",{className:"mt-5 text-center",children:[(0,u.jsx)("span",{children:"Do you want to delete "}),(0,u.jsx)("span",{className:"font-bold",children:`${t.product.name} (${t.platform.name}) ?`})]}),(0,u.jsx)("div",{className:"flex justify-center mt-10",children:(0,u.jsx)("button",{onClick:()=>{g(!1);const e=[...h];e.splice(n,1),j(e),p.oR.info(`${t.product.name} (${t.platform.name}) has been removed.`)},className:"mainPurpleBg text-white px-4 py-2 rounded cursor-pointer",children:"DELETE"})})]}),(0,u.jsxs)("div",{className:"mt-5 px-4 py-4 mainBorder text-gray-700 grid grid-cols-[4fr_0.5fr_0.5fr] sm:grid-cols-[4fr_2fr_0.5fr] items-center gap-4 cartItem_mobile",children:[(0,u.jsxs)("div",{className:"flex items-start gap-6 cartItem_imgTitle_mobile",children:[(0,u.jsx)("div",{className:"cartItem_imgHolder_mobile",children:(0,u.jsx)(a.N_,{className:"imgRatio",to:o.product.url.replace(":productId",t.product._id),children:(0,u.jsx)("img",{className:"sm:w-20",src:t.product.pic})})}),(0,u.jsxs)("div",{className:"cartItem_infoHolder_mobile",children:[(0,u.jsx)(a.N_,{to:o.product.url.replace(":productId",t.product._id),children:(0,u.jsx)("p",{className:"text-18 sm:text-lg font-medium",children:t.product.name})}),(0,u.jsxs)("div",{className:"cartItem_infoBoxHolder_mobile flex items-center gap-5 mt-4",children:[(0,u.jsx)("p",{className:"font-bold cartItem_price_mobile text-18",children:`${f.uk.sign} ${t.product.price}`}),(0,u.jsxs)("p",{className:"px-2 sm:px-3 sm:py-2 mainBorder bg-slate-50 flex cartItem_platformBox_mobile text-16",children:[(0,u.jsx)("span",{children:t.platform.name}),(0,u.jsx)("img",{className:"platformCard ms-3",src:t.platform.icon})]})]})]})]}),(0,u.jsx)("input",{onChange:e=>N(e.target.value),className:"mainBorder cartItem_input_mobile md:max-w-20 px-1 sm:px-2 py-1",type:"number",defaultValue:t.number}),(0,u.jsx)("img",{onClick:()=>g(!0),className:"cartItem_removeBtn_mobile w-4 mr-4 sm:w-5 cursor-pointer",src:d})]})]})};var h=n(2600);const j=function(){const e=(0,a.Zp)(),{inCartItems:t}=(0,s.useContext)(r.D)||{},{profile:n}=(0,s.useContext)(i.t)||{},c=(0,s.useContext)(l.P)||{},[m,d]=(0,s.useState)(!1);return(0,u.jsx)(u.Fragment,{children:(0,u.jsx)(o.A,{children:(0,u.jsxs)("div",{className:"cartItemsHolder flex flex-col justify-between",children:[t&&t.length?t.map((e,t)=>(0,u.jsx)("div",{children:(0,u.jsx)(f,{item:e,index:t,setIsValid:d})},t)):(0,u.jsx)("div",{className:"flex justify-center font-medium noItemCart",children:"Your Cart Is Empty"}),(0,u.jsx)("div",{className:"flex justify-end mt-20 mb-30",children:(0,u.jsx)("div",{className:"w-full sm:w-[300px]",children:(0,u.jsx)(h.A,{navigateTitle:"PROCEED TO CHECKOUT",onClickBtn:()=>{n?e(c.orders.url):(p.oR.info("First, Login to Your Profile"),c&&e(c.login.url))},isValid:m})})})]})})})}}}]);
//# sourceMappingURL=352.4b3748eb.chunk.js.map