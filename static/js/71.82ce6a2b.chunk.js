"use strict";(self.webpackChunkgameshop=self.webpackChunkgameshop||[]).push([[71],{3042:(e,t,s)=>{s.r(t),s.d(t,{default:()=>y});var r=s(5043),a=s(3721),c=s(660),o=s(579);const l=function(){return(0,o.jsx)("div",{className:"mainLoader"})};var n=s(7866);const i=function(e){let{selectedProduct:t,setSelectedProduct:s}=e;return(0,r.useEffect)(()=>{(()=>{const e={...t},r={};for(let s of t.productData.platforms)r[s.name]={...s,selected:!1};e.platforms={...r},s({...e})})()},[]),(0,o.jsxs)("div",{className:"flex flex-col gap-4 my-8 productInfoBox","data-testid":"platforms",children:[(0,o.jsx)("p",{children:"Select Platform:"}),(0,o.jsx)("div",{className:"flex-gap-2",children:t.platforms&&Object.entries(t.platforms).map(e=>(0,o.jsx)("button",{className:(e[1].selected?"platformBtn_selected":"platformBtn")+" me-4 my-2 py-2 px-4 cursor-pointer",onClick:()=>(e=>{const r={...t},a=[];r.platforms[e].selected=!r.platforms[e].selected;for(let t in r.platforms)r.platforms[t].selected&&a.push(r.platforms[t]);r.selectedPLatforms=a,s({...r})})(e[0]),children:e[0]},e[1]._id))})]})},d=s.p+"static/media/star.6347ae3a630a307a3713.jpg";const u=function(e){let{currencies:t,productData:s}=e;return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("h1",{className:"font-medium text-2xl mt-2 productInfo_title","data-testid":"productName",children:s.name}),(0,o.jsx)("div",{className:"flex items-center gap-1 mt-2 productInfo_title",children:Array.from({length:s.stars}).map((e,t)=>(0,o.jsx)("img",{src:d,className:"w-3.5"},t))}),(0,o.jsxs)("p",{className:"mt-5 text-3xl font-medium productInfo_title",children:[t.uk.sign," ",s.price]}),(0,o.jsx)("p",{className:"mt-5 text-gray-500 md:w-4/5",children:s.description})]})};var m=s(3078),p=s(9025),x=s(6020),f=s(2115);const h=function(e){let{selectedProduct:t,setSelectedProduct:s}=e;const c=(0,a.Zp)(),l=(0,r.useContext)(p.P),{inCartItems:n,updateInCart:i,setLocalItems:d}=(0,r.useContext)(x.D),[u,h]=(0,r.useState)(!1),j=()=>{const e=[...n];for(let s of t.selectedPLatforms)e.push({product:t.productData,number:t.itemNumber,platform:s});i(e),d(),v()},v=()=>{u&&(f.oR.success(`${t.productData.name} successfully added.`),g(),c(l.cart.url))},g=()=>{s({productData:null,platforms:null,selectedPLatforms:[],itemNumber:0})};return(0,r.useEffect)(()=>{(()=>{if(null===t.platforms)return void h(!1);const e=[];for(let s in t.platforms)t.platforms[s].selected&&e.push(t.platforms[s]);h(e.length)})()},[t]),Boolean(u)&&(0,o.jsxs)("div",{className:"addToCartSection",children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("button",{onClick:()=>{if(!t.itemNumber)return f.oR.error("Tell us how many you want"),void f.oR.error("And Enter a Correct Number");j()},className:"bg-black text-white px-8 py-3 text-sm active:bg-gray-700 cursor-pointer",children:"ADD TO CART"}),(0,o.jsx)("input",{onChange:e=>{const r=(0,m.C)(e.target.value,t.productData.availabe),a={...t};r.status?(a.itemNumber=Number(e.target.value),s({...a})):(f.oR.error(r.text),a.itemNumber=0,s({...a}))},className:"itemNumberInput py-2 px-2",placeholder:"1",type:"number"})]}),(0,o.jsxs)("div",{className:"text-sm text-gray-500 flex flex-col gap-1 smallDescriptionProduct",children:[(0,o.jsx)("p",{children:"100% Original product"}),(0,o.jsx)("p",{children:"Cash on delivery is available on this product"}),(0,o.jsx)("p",{children:"Easy return and exchange policy within 7 days"})]})]})};const j=function(e){let{selectedProduct:t}=e;const[s,a]=(0,r.useState)("description");return(0,o.jsxs)("div",{className:"mt-20",children:[(0,o.jsxs)("div",{className:"flex",children:[(0,o.jsx)("b",{onClick:()=>a("description"),className:"mainBorder px-5 py-3 text-sm cursor-pointer",children:"Description"}),(0,o.jsx)("p",{onClick:t.reveiws&&t.reveiws.length?a("reviews"):()=>{},className:"mainBorder px-5 py-3 text-sm cursor-pointer",children:`Reveiws (${t.reveiws&&t.reveiws.length?t.reveiws.length:"0"})`})]}),"description"===s&&(0,o.jsxs)("div",{className:"flex flex-col gap-4 mainBorder px-6 py-6 text-sm text-gray-500",children:[(0,o.jsx)("p",{children:t.productData.description}),(0,o.jsx)("p",{children:"E-commerce websites typically display products or sevices along with detailed descriptions, images, prices, and any available variantions (e.g. platforms). Each product usually has its own dedicated pagewith relevant information. "})]}),t.reveiws&&t.reveiws.length&&"reviews"===s]})};var v=s(143),g=s(3648);const N=function(e){let{selectedProduct:t}=e;const s=(0,r.useContext)(c.Q).products,[a,l]=(0,r.useState)([]);return(0,r.useEffect)(()=>{(()=>{let e=t.productData.company[0];const r=[];for(let a of s)a.company[0].name===e.name&&t.productData._id!==a._id&&r.push(a);l([...r])})()},[]),(0,o.jsx)("section",{className:"mt-30",children:a.length?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(v.A,{text1:"More of",text2:t.productData.company[0].name}),(0,o.jsx)(g.A,{list:a})]}):""})};const y=function(){const{productId:e}=(0,a.g)(),{products:t,currencies:s}=(0,r.useContext)(c.Q)||{},[d,m]=(0,r.useState)({productData:null,platforms:null,selectedPLatforms:[],itemNumber:0});return(0,r.useEffect)(()=>{t&&(async()=>{const s={...d};setTimeout(()=>{for(let r of t)if(r._id==e)return s.productData=r,void m({...s})},1e3)})()},[]),(0,o.jsx)(o.Fragment,{children:d.productData?(0,o.jsxs)(n.A,{children:[(0,o.jsxs)("div",{className:"productBox pt-10 transition-opacity ease-in ducration-500 opacity-100 flex",children:[(0,o.jsx)("div",{className:"productBox_imgBox imgRatio",children:(0,o.jsx)("div",{children:(0,o.jsx)("img",{className:"w-full h-auto",src:d.productData.pic})})}),(0,o.jsxs)("div",{className:"flex-1 productBox_DataBox",children:[(0,o.jsx)(u,{currencies:s,productData:d.productData}),(0,o.jsx)(i,{selectedProduct:d,setSelectedProduct:m}),(0,o.jsx)(h,{selectedProduct:d,setSelectedProduct:m})]})]}),(0,o.jsx)(j,{selectedProduct:d}),(0,o.jsx)(N,{selectedProduct:d})]}):(0,o.jsx)("div",{className:"flex justify-center items-center minH500",children:(0,o.jsx)(l,{})})})}},3078:(e,t,s)=>{s.d(t,{C:()=>r});const r=(e,t)=>Boolean(Number(e))&&Number(e)>0?Number(e)<=t?{status:!0}:{status:!1,text:`There are only ${t} items available.`}:{status:!1,text:"Please Enter a Correct Number"}}}]);
//# sourceMappingURL=71.82ce6a2b.chunk.js.map